"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transformV1MarketEvent = void 0;
const queries_sdk_1 = require("@zoralabs/zdk/dist/queries/queries-sdk");
const types_1 = require("../../../types");
function transformV1MarketEvent({ event, at, blockInfo, price, eventType, }) {
    let fixedPriceEvent = undefined;
    switch (event.v1MarketEventType) {
        case queries_sdk_1.V1MarketEventType.V1MarketAskCreated:
            fixedPriceEvent = types_1.FIXED_PRICE_EVENT_TYPES.FIXED_PRICE_CREATED;
            break;
        case queries_sdk_1.V1MarketEventType.V1MarketAskRemoved:
            fixedPriceEvent = types_1.FIXED_PRICE_EVENT_TYPES.FIXED_PRICE_CANCELLED;
            break;
        case queries_sdk_1.V1MarketEventType.V1MarketBidShareUpdated:
            fixedPriceEvent = types_1.FIXED_PRICE_EVENT_TYPES.FIXED_PRICE_UPDATED;
            break;
        case queries_sdk_1.V1MarketEventType.V1MarketBidFinalized:
            fixedPriceEvent = types_1.FIXED_PRICE_EVENT_TYPES.FIXED_PRICE_FILLED;
            break;
    }
    if (fixedPriceEvent) {
        return {
            at,
            ...price,
            blockInfo,
            eventType,
            sender: event.address,
            marketAddress: event.collectionAddress,
            event: fixedPriceEvent,
            side: types_1.FIXED_SIDE_TYPES.ASK,
            raw: {
                source: types_1.FIXED_PRICE_MARKET_SOURCES.ZORA_ASK_V1,
                data: event,
            },
        };
    }
    return undefined;
}
exports.transformV1MarketEvent = transformV1MarketEvent;
